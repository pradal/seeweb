{
  "$schema": "http://json-schema.org/schema#",
  "title": "Workflow",
  "description": "Schema for workflows used in OpenAlea",
  "type": "object",
  "properties": {
    "id": {
      "description": "A unique identifier for this workflow",
      "type": "string",
      "minLength": 32,
      "maxLength": 32
    },
    "name": {
      "description": "A display name",
      "type": "string"
    },
    "author": {
      "description": "Author who wrote this workflow",
      "type": "string"
    },
    "version": {
      "description": "Current version of this workflow",
      "type": "integer",
      "minimum": 0
    },
    "description": {
      "description": "Short description of workflow task",
      "type": "string"
    },
    "nodes": {
      "type": "array",
      "items": {
        "description": "Node types and local information associated with them",
        "type": "object",
        "properties": {
          "id": {
            "description": "Unique id for a given object",
            "type": "string",
            "minLength": 32,
            "maxLength": 32
          },
          "label": {
            "description": "local label overriding node name",
            "type": ["null", "string"]
          },
          "x": {
            "description": "X position for display purpose only!",
            "type": "number"
          },
          "y": {
            "description": "Y position for display purpose only!",
            "type": "number"
          }
        },
        "required": [
          "id",
          "label",
          "x",
          "y"
        ]
      }
    },
    "links": {
      "type": "array",
      "items": {
        "description": "Connection from an output port to an input port",
        "type": "array",
        "items": [
          {
            "description": "Source node index",
            "type": "integer"
          },
          {
            "description": "Local output port id",
            "type": "string"
          },
          {
            "description": "Target node index",
            "type": "integer"
          },
          {
            "description": "Local input port id",
            "type": "string"
          }
        ]
      }
    }
  },
  "required": [
    "id",
    "name",
    "author",
    "version",
    "description",
    "nodes",
    "links"
  ]
}
