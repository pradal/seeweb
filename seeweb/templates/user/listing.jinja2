{% from 'macro.html' import list_users with context %}

{% extends "user_layout.html" %}

{% block user_body %}
    <div class="row">
        <div class="container col-md-12">
            {% if search_pattern == "" %}
            <h1>All Users</h1>
            {% else %}
            <h1>Users starting with: '{{ search_pattern[:-1] }}'</h1>
            {% endif %}
        </div>
    </div>

    <div class="row">
        <div class="container col-md-12">
            <form class="form-inline" role="search" action="{{ request.route_url('user_list') }}">
                <div class="form-group">
                  <input type="text" class="form-control" name="query" placeholder="Search for name">
                </div>
                <button type="submit" class="btn btn-default">Search</button>
                {% if search_pattern != "" %}
                <button type="all" class="btn btn-default" name="all">Display all</button>
                {% endif %}
            </form>
        </div>
    </div>

    {% if users|length == 0 %}
    <div class="row">
        No user found.
    </div>
    {% else %}
        <div class="container-fluid">
            <div class="list-group">
                {{ list_users(users) }}
            </div>
        </div>
    {% endif %}
{% endblock %}

